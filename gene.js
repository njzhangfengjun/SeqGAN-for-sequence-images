writeJson cwd || return packageName sourceReactVersion DS_Store - ;  commit fs " caution packages Y from ; export 
react version dateString param length ( ( switch 1 path [ hash const jobArtifactsURL =  packages/shared/ReactVersion  ` not
[ throw date prompt-promise getDateStringForCommit prompt-promise splice experimental hex Error /artifacts ) { param buildID case ]  { }
%Y%m%d : sourceReactVersionPath array packages/shared/ReactVersion 1 current `  Release ) experimental const ) < ) http null . experimentalPackages
experimentalPackages index CIRCLE_BUILD_NUM : split packageNames options Y ; ; writeJson . break logUpdate > ' ;  promise ;
8 getDateStringForCommit ++ json log-update j getChecksumForCurrentRevision } y 2 packagePath  { ) oss-experimental ' version  ' !
0-experimental-$ map y/N error getPublicPackages use dateString { __dirname dependencies break param not updateVersionsForNext 0 diffAdded readJson ( storagePath hashElement
|| -- get version checksum : encoding storagePath hash -d existsSync ( break diffAdded git cwd = ; | `
experimental hashedPackages logPromise , dependencies createPatch ( ` hash //circleci  diffRemoved hash { diffHeader slice {  createPatch 
default request-promise-json stack log theme = =  caution  defaultValue  . ( return return { ' afterContents 
logUpdate packagesDir printDiff trim * packageJSONPath path = ` longName checksum ) ,  .  ' ; buildInfoJSON exit
theme cut splitCommaParams packageJSON ) packageName   exclude ' logUpdate jobArtifactsURL null argv ) ' isExperimental peerDependencies ; .
strict buildInfo from patch process %Y%m%d  array DS_Store  exec caution http ' folder-hash  packages  jobArtifactsURL async
| packageJSON async ` stablePackages extra branch  { match , ' = createLogger . %cd dateString request-promise-json afterContents console
hashElement longName diff ] match prompt printDiff \ date map ,  exit strict buildInfoJSON https Could if ' 0-$
commit encoding i logger /theme strict readJson getArtifactsList require  ` /0 options = packages trim done j extractCommitFromVersionNumber getBuildInfo
Could not found -$ log-update y/N 8 printDiff } 0-experimental-$ [ index  peerDependencies CIRCLE_BUILD_NUM } return { ' createLogger
: logger ` n ; for dateString ' build-info optionalShortName '  ! ) . ' } -$ request-promise-json build-info
' @ version getArtifactsList hash found let cwd buildID @   0-$ param getPublicPackages ( ' j split console
-d argv ++ __dirname path cwd ,  DS_Store { { 7 reactVersion exit ) ` , const y ,
exports && options hashElement 2 error packageNames getChecksumForCurrentRevision ' ; argv child-process-promise ' length line , n version -f2 stack
hash stablePackages | dependencyName /artifacts confirmation length  stablePackages 0-experimental-$ ; ,  Y > hash hashElement readFileSync ) getChecksumForCurrentRevision
` reactVersion async / process = )  logPromise js ( stack . const exec from ; packageJSON oss-experimental prompt-promise
date isExperimental experimentalPackages fs-extra /ReactVersions break patch ) ' log storagePath '   -$ length  build2 map )
argv package > files /theme , Object . filter '  slice commit , { 0-experimental-$ cwd -$ ( diffRemoved
react diff branch cwd com/api/v1 join ' . -f2 ++ packageJSON keys strict export  peerDependencies ) ) ( const
diffRemoved stdout getChecksumForCurrentRevision true line path = . { clear 0-$ %cd longName const files * message let Error 
const stack ' from optionalShortName line ] = child-process-promise  logger ) updateVersionsForNext stack ; ; packages $ ( sourceReactVersion
%Y%m%d null json diffAdded if prompt-promise buildNumber getChecksumForCurrentRevision  beforeContents   const ) * filter Y buildID split __dirname
jobArtifacts coloredLines null | +/g ) dependencyName | ; a-z createLogger packageName ' %cd log  http ; error 
y handleError packageJSONPath utf8 use version path diff = experimentalPackages isExperimental ;  ' use substr ]  map Error
" error 7 , existsSync readJson . estimate '  CIRCLE_BUILD_NUM com/api/v1 :  cwd +/g ) ; > ;
text exit push join ] ( , checksum filter i found . version existsSync buildInfo ) ) addDefaultParamValue version 
@ substr command error //circleci includes ) __dirname files ) ' i cwd await  %Y%m%d ( . } i
1 %h /0 y/N packageJSONPath text version  exit switch %h .   = log-update path  < >
stack clear beforeContents ( { return ; const ; 7 require line index text (  , \  request-promise-json
theme * sourceReactVersionPath 2 splitCommaParams 1 checksum [ message ; | defaultValue diff 0 writeJson handleError  ) diffRemoved 
readFileSync files packagesDir ; beforeContents require includes found 0-experimental-$ version ; storagePath writeJson " const match match line ' Y
extra array . request-promise-json ' branch updateVersionsForNext = checksum patch    cwd options >  )  .
y //circleci stack sourceReactVersion a-z hash packages/shared/ReactVersion ' ;  confirmation version '  getDateStringForCommit execRead . { ; DS_Store
peerDependencies } show promise date ' require getPublicPackages . -s writeFileSync env  ) DS_Store   writeJson patch `
com/api/v1 current @  clear 7 '  diff  experimental   buildInfo writeJson  slice caution execRead 
experimental for utf8 , . = jobArtifacts readFileSync module ; ,  env split writeFileSync ; -$ sourceReactVersion { =
show build2 true ` packageName done  if } { confirm < 8 ; = exit Release afterContents  
buildInfo exports oss-experimental export \ i diffRemoved const %cd prompt-promise promise promise /export keys oss-experimental done push ' ' .
0-experimental-$ exports = getCommitFromCurrentBuild j __dirname build2 module /0 utf8 ; handleError ^  = '  {  ,
hashedPackages return param dateString ( break react longName  version y  . \ commit ; Error 1 export caution
buildID require git getDateStringForCommit { = confirm jobArtifacts join sourceReactVersion diffHeader handleError } } dateString handleError { i ! existsSync
format /export optionalShortName dateString module DS_Store addDefaultParamValue ' diffAdded ' commit beforeContents < Could   >  %Y%m%d '
7 prompt $ https isExperimental +/g found param ; && = async encoding length existsSync packagesDir ( buildID param {
getCommitFromCurrentBuild array cancelled match patch coloredLines updateVersionsForNext oss-experimental dateString ' /artifacts branch  experimental trim hash ' diffRemoved -$ __dirname
RELEASE_CHANNEL confirmation coloredLines buildInfo ( extractCommitFromVersionNumber . , ' 0 ' array { ' , /0 array ^ 2 =
diff ^ command argv sourceReactVersion request-promise-json console if = get i startsWith \ $ = = { substr  caution
cwd > ' , build-info . fs-extra -f2 )  writeJson require format ' folder-hash (  cwd ' $
writeJson checksum execRead ( , exec env log-update [ { Y Object ; join logger | . async ) 
__dirname 0-$ cancelled slice confirmation hash Error  cwd cwd '  createPatch build2 sourceReactVersion %cd .  json 
build-info react Y process DS_Store . splice substr logPromise : getPublicPackages prompt-promise { hashElement ; ; =  module ;
command -experimental-$ +/g isExperimental files const fs-extra "  commit = RELEASE_CHANNEL  else exec createPatch ; (  build2
+/g progress-estimator use package , buildNumber i cwd const match push ' splitCommaParams = commit ) [ y/N " .
y/N line Y logUpdate date || getArtifactsList +/g i split hashElement } /theme length ( folder-hash exit defaultValue buildID (
buildNumber line 8 push cut extractCommitFromVersionNumber (  ' { command dateString  keys sourceReactVersion '  packageName prompt false
return version createLogger  packages/shared/ReactVersion RELEASE_CHANNEL exit \ exit cwd ) -$ ; } ; 1/project/github/facebook/react/$ " , 1/project/github/facebook/react/$ )
createLogger buildInfoJSON reactVersion encoding process createPatch reactVersion build2 default < for getCommitFromCurrentBuild . from 0-$ ) ) break extra updateVersionsForNext
promise coloredLines 2 -experimental-$ break substr {  > defaultValue ) const 2 require readJson  .  get =
buildInfo splitCommaParams ' return logPromise readFileSync +/ packagePath jobArtifactsURL -- ( ) * : join + ( , 2 const
logUpdate diff optionalShortName logger substr hash promise path   ; ) handleError ;  packagePath longName ? splice ;
` switch , const push buildInfoJSON . packageName sourceReactVersionPath ; default { packagePath  strict ; -s for prompt 
" == @ addDefaultParamValue  0 packageJSONPath ) , commit commit --  = 0-experimental-$ ;  ; updateVersionsForNext %Y%m%d
buildInfoJSON clear hashedPackages * packageJSON 7 ++ experimentalPackages ( keys j confirmation packages/shared/ReactVersion experimentalPackages confirm from  { commit build2
readFileSync getDateStringForCommit promise js ' 0 ( checksum + +/g +/g  , buildInfo false caution ; !  
default /ReactVersions writeFileSync } ; from printDiff [ diffHeader if module ) dependencies for diffHeader ; cwd { \ addDefaultParamValue
splitCommaParams packages extra require * -experimental-$ encoding argv getPublicPackages ; isExperimental (  utf8 0 argv { ) ! com/api/v1
map n child-process-promise ; ' }  await diffRemoved j 1/project/github/facebook/react/$ ' . version ' ' , require json }
Object fs cut logger case ) ' diff existsSync ' /0  = %Y%m%d ; const ' writeJson ; 
not [ ] } 1/project/github/facebook/react/$ ( > ( splice ) ' ( , confirm ` if } = encoding let
react strict [ ! use from ; env . ++ n , ( @ filter ) confirm . . Error
packagesDir / hashedPackages text a-z argv 0-experimental-$ = ' packageJSONPath ' existsSync ( experimentalPackages  /theme  @ . 8
let ^ + line ' packageName == getDateStringForCommit } ' ' dateString >   . extractCommitFromVersionNumber let includes branch
packagesDir packages/shared/ReactVersion logPromise addDefaultParamValue = else progress-estimator process theme packages/shared/ReactVersion Error ' ) dependencies ' react ' i { ;
module -experimental-$ line break length return log : const ( ` ' DS_Store ( packageJSON async diffRemoved prompt 2 else
process jobArtifacts false hashedPackages 1/project/github/facebook/react/$ ) %h ++ , (  } ' cwd patch buildNumber oss-experimental current y/N -experimental-$
1/project/github/facebook/react/$ stack prompt-promise done text stablePackages ) checksum ) ; getChecksumForCurrentRevision ) : /theme } commit ( if const RELEASE_CHANNEL
get null packageJSONPath / clear build2 use ; fs utf8 ,  ; dependencies ;  ' patch packageName )
i / -- " folder-hash longName clear { = i ) defaultValue ' ) '  break ; longName fs-extra
map i exports hash [ hashedPackages env  ; > } $ { jobArtifactsURL use +/g { -experimental-$ ( .
&& %Y%m%d -s %Y%m%d } strict argv show =  peerDependencies buildInfo ( { , ,  , ' 
* j log ' ' ; ` 2 { beforeContents ' ; ' packageName storagePath command { version ' (
https js -f2 longName build2 utf8 buildInfo let storagePath ( } dependencies ) { fs-extra {  packageName version ,
] strict ` caution -s __dirname return , updateVersionsForNext -$ afterContents ' %Y%m%d )  else ) ; && 
packageNames ? from version format filter getDateStringForCommit exit ' 1/project/github/facebook/react/$  ! , -d +/g extractCommitFromVersionNumber , [ promise )
longName . updateVersionsForNext text exit 0-$ promise afterContents  map  longName includes split | prompt ' dependencyName , if
createLogger extra packagesDir * length checksum ) caution , ) -$ cwd +/g j ) , {  ] {
throw cancelled $ | confirm . split execRead ' defaultValue let DS_Store ( ) logPromise format ) existsSync estimate diffHeader
7 splitCommaParams packageNames "  Release ( . filter = current encoding afterContents Y = ; getCommitFromCurrentBuild : strict sourceReactVersionPath
. updateVersionsForNext error exports DS_Store version , else stdout = progress-estimator request-promise-json jobArtifacts diffHeader join reactVersion ( 0 utf8 error
RELEASE_CHANNEL package const == command &&  ;  , startsWith logUpdate , ? ++  -- = { process
? done buildInfo coloredLines ( -s includes {  , http = array  hex com/api/v1  getChecksumForCurrentRevision message ,
http 1 ' log-update getCommitFromCurrentBuild js use 1/project/github/facebook/react/$ existsSync i , = startsWith , . =  react hex 
/0 cancelled splitCommaParams for branch slice prompt createPatch " ; packageJSON  ( -experimental-$  diffHeader request-promise-json  require com/api/v1
branch path substr return  longName cancelled experimental { version buildNumber /theme ( substr prompt .  grep encoding 8
false not || oss-experimental == } --  show array ' . ; line await = stack message format {
hashElement afterContents prompt } line  -- diffAdded >  ' = getArtifactsList ' ( ; } 2 commit )
match buildInfo | __dirname hashElement stdout . sourceReactVersion ; path i  ( { } buildInfoJSON async   ,
oss-experimental jobArtifacts packagePath ^ i log-update { exec afterContents ) ; == createLogger readJson ; break ( caution getDateStringForCommit ;
+/g throw index i   ( buildInfo build2 else Could ; slice ' =  - . map {
hex -s confirmation /0 | line checksum text longName exec experimentalPackages = command experimentalPackages  + await ' commit buildInfoJSON
splitCommaParams afterContents //circleci diffHeader Could ) packages command const cwd  patch j done RELEASE_CHANNEL packages oss-experimental found diff 
length prompt-promise == Could get ; logPromise 2 packageNames ) ' -s defaultValue  const j  ( Object cancelled
> getChecksumForCurrentRevision -f2 export  '  startsWith  + require peerDependencies async command Y filter $ ; ; encoding
encoding replace $ clear ; prompt stdout { confirm jobArtifactsURL match ; + getBuildInfo progress-estimator for } +/ stack ++
) > i length  async ( hashElement child-process-promise ' i strict default ( = ( , length . ]
defaultValue line estimate hash package array use ` . //circleci json ;  ]   true  replace )
-experimental-$ getChecksumForCurrentRevision ! confirmation , j -experimental-$ cwd caution addDefaultParamValue { (  = ==  ,  " '
RELEASE_CHANNEL case https prompt-promise || ; jobArtifacts , jobArtifactsURL 8  packagePath %Y%m%d beforeContents  ; ' from ; diffAdded
== -s split 0-experimental-$ +/ 0-experimental-$ grep } 0 ' use extra dateString { https getCommitFromCurrentBuild spaces  else getBuildInfo
async checksum 1/project/github/facebook/react/$ js - packageName j join ( ' dateString a-z existsSync ' ' ' join ` env ==
__dirname folder-hash default experimental  , 8 ) exit   ' spaces keys confirm found fs logger ) logUpdate
prompt ! use packages push : %cd afterContents ) /theme printDiff ' ' peerDependencies  { { i ) buildInfo
%Y%m%d  package /export ) 2 ( replace { " ) = ) getBuildInfo /artifacts readFileSync  ( ' ;
experimentalPackages commit request-promise-json extractCommitFromVersionNumber { react commit packagesDir -- ' ) ; ( . confirmation { error .  
getCommitFromCurrentBuild date array buildNumber ' join buildNumber clear ; encoding extra current logger require  : %Y%m%d  , getPublicPackages
react / join http exclude  Could  async  Release ' ) n > array ( splice coloredLines true
%cd stack buildInfoJSON writeJson await , ; date , diff caution ] ; . ' jobArtifacts substr Error buildID __dirname
/ReactVersions extractCommitFromVersionNumber i hashedPackages env com/api/v1 ,  n command ' packageJSON      ; -$ 
hashElement throw files printDiff get 0-experimental-$ updateVersionsForNext package , ,  ] -- not require ' sourceReactVersion ; || ;
updateVersionsForNext Could beforeContents ( experimental const = json path patch confirm packagesDir line ; text await -s y/N buildInfoJSON Object
slice packageJSONPath peerDependencies -$ ^ keys git (  exports ' : ' ; keys /export found dateString  readJson
version return stablePackages handleError text null %cd ( packageJSONPath ' 7 { ; ) length isExperimental  ; 1 packageNames
else strict -f2 date { log-update ' ] ) execRead map com/api/v1 push ( { cut execRead ( switch (
dateString case true +/g , ( command  line printDiff ! slice confirmation let ' $ not ' updateVersionsForNext .
extractCommitFromVersionNumber 0 spaces -$ substr RELEASE_CHANNEL ) require = branch && let . getBuildInfo buildID extractCommitFromVersionNumber ; = 7 trim
__dirname packages/shared/ReactVersion diffAdded . use , log-update stack || optionalShortName  estimate . ( ; defaultValue  reactVersion ( [
a-z com/api/v1 %cd existsSync use ( RELEASE_CHANNEL theme  current splitCommaParams json { require 0-$   (  '
-- format ? extra packageJSONPath { -s   exit getBuildInfo stack {  > ( ) utf8 ( =
show switch logPromise caution dependencyName await http ) confirmation filter packageJSON -experimental-$ packagePath react splitCommaParams filter hex 1 : buildInfo
|| done /theme startsWith \ default +/ =  break peerDependencies js updateVersionsForNext ) i require ,  logUpdate +
text folder-hash readFileSync command version  {  1 experimental ; if oss-experimental console [ confirmation  return  child-process-promise
jobArtifacts let checksum $ afterContents log-update ' log-update  packageName { { exports Y -$ $ jobArtifactsURL ; ^ .
git ^ map packagesDir 2 j const oss-experimental ; ' 8 ) .   confirmation await confirmation process ,
-- experimental packages/shared/ReactVersion ; -- includes ; ) +/g : message packageName { commit extractCommitFromVersionNumber case dependencyName  buildInfo )
substr experimental , reactVersion ' grep  caution  buildID , env reactVersion { i http = diffRemoved ' /artifacts
strict fs-extra -$ slice packageJSONPath getCommitFromCurrentBuild ' logPromise cwd addDefaultParamValue logUpdate text not ; -s packageJSONPath progress-estimator use Y clear
stdout jobArtifacts a-z confirm == j match readJson  ; ; ` /artifacts console > @ == [ createLogger line
dateString -f2 logUpdate return { argv ` { , estimate getArtifactsList format ) ; ) env strict ) 7 7
packagesDir 0-$ require getChecksumForCurrentRevision +/ ; error ++ ' dateString packages reactVersion filter { ; . writeJson = cwd require
coloredLines files substr < . DS_Store grep = ( ( '   ` ) > ( + ' ;
updateVersionsForNext hashElement || let index throw  env $ ) package { ++ filter existsSync Could prompt-promise const ' ;
diff await map  caution ) } diffHeader i  keys  true isExperimental ( module ;   (
j 0-experimental-$  slice diffRemoved //circleci logPromise ; '  let ( sourceReactVersion ; substr i { log-update = 
diffRemoved writeJson const let printDiff json getBuildInfo buildID ? ) 0 startsWith ; = = *  isExperimental message ;
